import { ReactNode } from "react";
import { FTMLFragment, setDebugLog, setServerUrl } from "../../ftml-utils";
setServerUrl("https://mathhub.info");
setDebugLog();

// from smai homework (a1.en.json)
const html =
  '<div class="rustex-contents" data-ftml-problem="find-mv" data-ftml-autogradable="false">\n\t<div class="rustex-paragraph rustex-withwidth"><span class="rustex-contents" data-ftml-title="">Find Aggregations</span> <div class="rustex-hbox-container"><div class="rustex-hbox"></div></div> <div class="rustex-hbox-container"><div class="rustex-hbox"></div></div> <div class="rustex-hbox-container"><div class="rustex-hbox"></div></div> <div class="rustex-hbox-container"><div class="rustex-hbox"></div></div> <div class="rustex-hbox-container"><div class="rustex-hbox"></div></div> <div class="rustex-hbox-container"><div class="rustex-hbox"></div></div> <div class="rustex-hbox-container"><div class="rustex-hbox"></div></div>  Open your favorite <span class="rustex-contents" data-ftml-term="OMID" data-ftml-head="https://mathhub.info?a=smglom/math&amp;p=mod&amp;m=mathematics&amp;s=mathematics" data-ftml-notationid=""><span class="rustex-contents" data-ftml-comp="">math</span></span> or computer science <span class="rustex-contents" data-ftml-term="OMID" data-ftml-head="https://mathhub.info?a=smglom/education&amp;p=mod&amp;m=course-material&amp;s=textbook" data-ftml-notationid=""><span class="rustex-contents" data-ftml-comp="">textbook</span></span> and find some of the <span class="rustex-contents" data-ftml-term="OMID" data-ftml-head="https://mathhub.info?a=smglom/epistemology&amp;p=mod&amp;m=phenomenon&amp;s=phenomenon" data-ftml-notationid=""><span class="rustex-contents" data-ftml-comp="">phenomena</span></span> of <span class="rustex-contents" data-ftml-term="OMID" data-ftml-head="https://mathhub.info?a=smglom/mv&amp;p=mod&amp;m=mv&amp;s=mathematical vernacular" data-ftml-notationid=""><span class="rustex-contents" data-ftml-comp="">mathematical vernacular</span></span> that we have covered in the <span class="rustex-contents" data-ftml-term="OMID" data-ftml-head="https://mathhub.info?a=smglom/education&amp;p=mod&amp;m=lecture&amp;s=lecture" data-ftml-notationid=""><span class="rustex-contents" data-ftml-comp="">lecture</span></span>. Submit the <span class="rustex-contents" data-ftml-term="OMID" data-ftml-head="https://mathhub.info?a=smglom/linguistics&amp;p=mod&amp;m=text&amp;s=text" data-ftml-notationid=""><span class="rustex-contents" data-ftml-comp="">text</span></span> , author name and title of the book as well as the page number for the source. </div><div class="rustex-contents" data-ftml-problemhint="HINT_1">\n\t<div class="rustex-paragraph rustex-withwidth"><div class="rustex-parindent" style="margin-left:22.5px;"></div><span class="rustex-contents" data-ftml-term="OMID" data-ftml-head="https://mathhub.info?a=smglom/www&amp;p=mod&amp;m=URL&amp;s=URL" data-ftml-notationid=""><span class="rustex-contents" data-ftml-comp="">URLs</span></span> to fragments of <span class="rustex-contents" data-ftml-term="OMID" data-ftml-head="https://mathhub.info?a=smglom/computing&amp;p=mod&amp;m=online&amp;s=online" data-ftml-notationid=""><span class="rustex-contents" data-ftml-comp="">online</span></span> <span class="rustex-contents" data-ftml-term="OMID" data-ftml-head="https://mathhub.info?a=smglom/education&amp;p=mod&amp;m=course-material&amp;s=textbook" data-ftml-notationid=""><span class="rustex-contents" data-ftml-comp="">textbooks</span></span> are perfectly acceptable. </div></div><div class="rustex-contents" data-ftml-subproblem="find-mv" data-ftml-autogradable="false">\n\t<div class="rustex-paragraph rustex-withwidth"><span class="rustex-contents" data-ftml-title=""></span>  <span class="rustex-contents" data-ftml-term="OMID" data-ftml-head="https://mathhub.info?a=smglom/nlp&amp;p=mod&amp;m=aggregation&amp;s=aggregation" data-ftml-notationid=""><span class="rustex-contents" data-ftml-comp="">Aggregation</span></span> of <span class="rustex-contents" data-ftml-term="OMID" data-ftml-head="https://mathhub.info?a=smglom/linguistics&amp;p=mod&amp;m=sentence-type&amp;s=statement" data-ftml-notationid=""><span class="rustex-contents" data-ftml-comp="">statements</span></span> and <span class="rustex-contents" data-ftml-term="OMID" data-ftml-head="http://mathhub.info?a=sTeX/meta-inf&amp;m=Metatheory&amp;s=object" data-ftml-notationid=""><span class="rustex-contents" data-ftml-comp="">objects</span></span>. </div><div class="rustex-contents" data-ftml-solution="SOLUTION_2"></div></div><div class="rustex-contents" data-ftml-subproblem="find-mv" data-ftml-autogradable="false">\n\t<div class="rustex-paragraph rustex-withwidth"><span class="rustex-contents" data-ftml-title=""></span>   An <span class="rustex-contents" data-ftml-term="OMID" data-ftml-head="https://mathhub.info?a=courses/FAU/SMAI/course&amp;p=math/slides&amp;m=mv-aggregation&amp;s=argument sequence" data-ftml-notationid=""><span class="rustex-contents" data-ftml-comp="">argument sequence</span></span> to a <span class="rustex-contents" data-ftml-term="OMID" data-ftml-head="https://mathhub.info?a=courses/FAU/SMAI/course&amp;p=math/slides&amp;m=mv-aggregation&amp;s=flexary" data-ftml-notationid=""><span class="rustex-contents" data-ftml-comp="">flexary</span></span> <span class="rustex-contents" data-ftml-term="OMID" data-ftml-head="https://mathhub.info?a=smglom/grammar&amp;p=mod&amp;m=wfexp&amp;s=operator" data-ftml-notationid=""><span class="rustex-contents" data-ftml-comp="">operator</span></span>. </div><div class="rustex-contents" data-ftml-solution="SOLUTION_3"></div></div><div class="rustex-contents" data-ftml-subproblem="find-mv" data-ftml-autogradable="false">\n\t<div class="rustex-paragraph rustex-withwidth"><span class="rustex-contents" data-ftml-title=""></span>    A <span class="rustex-contents" data-ftml-term="OMID" data-ftml-head="https://mathhub.info?a=smglom/math&amp;p=mod&amp;m=assertion-classes&amp;s=theorem" data-ftml-notationid=""><span class="rustex-contents" data-ftml-comp="">theorem</span></span>, <span class="rustex-contents" data-ftml-term="OMID" data-ftml-head="https://mathhub.info?a=smglom/math&amp;p=mod&amp;m=assertion-classes&amp;s=lemma" data-ftml-notationid=""><span class="rustex-contents" data-ftml-comp="">lemma</span></span>, and <span class="rustex-contents" data-ftml-term="OMID" data-ftml-head="https://mathhub.info?a=smglom/math&amp;p=mod&amp;m=assertion-classes&amp;s=corollary" data-ftml-notationid=""><span class="rustex-contents" data-ftml-comp="">corollary</span></span> </div><div class="rustex-contents" data-ftml-solution="SOLUTION_4"></div></div><div class="rustex-contents" data-ftml-subproblem="find-mv" data-ftml-autogradable="false">\n\t<div class="rustex-paragraph rustex-withwidth"><span class="rustex-contents" data-ftml-title=""></span> <span class="rustex-contents" data-ftml-term="OMID" data-ftml-head="https://mathhub.info?a=smglom/grammar&amp;p=mod&amp;m=position&amp;s=occurrence" data-ftml-notationid=""><span class="rustex-contents" data-ftml-comp="">Occurrences</span></span> of “<span class="rustex-contents" style="color:#00ff00;font-style:italic;">iff</span>”, “<span class="rustex-contents" style="color:#00ff00;font-style:italic;">hence</span>”, and “<span class="rustex-contents" style="color:#00ff00;font-style:italic;">thus</span>”. </div><div class="rustex-contents" data-ftml-solution="SOLUTION_5"></div></div><div class="rustex-contents" data-ftml-subproblem="find-mv" data-ftml-autogradable="false">\n\t<div class="rustex-paragraph rustex-withwidth"><span class="rustex-contents" data-ftml-title=""></span>  A <span class="rustex-contents" data-ftml-term="OMID" data-ftml-head="https://mathhub.info?a=smglom/mv&amp;p=mod&amp;m=sequence&amp;s=sequence" data-ftml-notationid=""><span class="rustex-contents" data-ftml-comp="">sequence</span></span> of three <span class="rustex-contents" data-ftml-term="OMID" data-ftml-head="https://mathhub.info?a=courses/FAU/SMAI/course&amp;p=math/slides&amp;m=mv-declarations&amp;s=declaration" data-ftml-notationid=""><span class="rustex-contents" data-ftml-comp="">declarations</span></span>; specify the <span class="rustex-contents" data-ftml-term="OMID" data-ftml-head="https://mathhub.info?a=smglom/grammar&amp;p=mod&amp;m=wfexp&amp;s=scope" data-ftml-notationid=""><span class="rustex-contents" data-ftml-comp="">scope</span></span>. </div><div class="rustex-contents" data-ftml-solution="SOLUTION_6"></div></div></div>';

function WithUri({ children, uri }: { children: ReactNode; uri: string }) {
  return (
    <div>
      {children}
      {uri}
    </div>
  );
}

const BugPage = () => {
  const uri =
    "https://stexmmt.mathhub.info/:sTeX?a=courses/FAU/SMAI/problems&p=math/prob&d=find-mv&l=en&e=problem";
  return (
    <div>
      <FTMLFragment
        fragment={{ html, uri }}
        onFragment={(uri, kind) => {
          if (kind.type === "Problem") {
            return (ch) => <WithUri uri={uri} children={ch} />;
          }
        }}
      />
    </div>
  );
};

export default BugPage;
