import { useEffect } from "react";
import { FTMLFragment, getFlamsServer, Solutions } from "../../ftml-utils";
import { ProblemResponse } from "../../ftml-utils/flams";
import { ChoiceBlock, ProblemState, QuizProblem } from "../../ftml-utils/ftml-viewer/ftml-viewer-base/ftml-viewer-base";

/*function getProblemState(
  isFrozen: boolean,
  solution?: string,
  current_response?: ProblemResponse
): ProblemState {
  if (!isFrozen) return { type: "Interactive", current_response };
  if (!solution || !current_response)
    return { type: "Finished", current_response };
  const feedback =
    Solutions.from_jstring(solution)?.check_response(current_response);
  if (!feedback) return { type: "Finished", current_response }; // Something went wrong!!
  return { type: "Graded", feedback: feedback.to_json() };
}

export function ProblemViewer({
  problem,
  solution,
  onResponseUpdate,
  isFrozen,
  r,
}: {
  problem: QuizProblem;
  solution: string;
  onResponseUpdate?: (response: ProblemResponse) => void;
  isFrozen: boolean;
  r?: ProblemResponse;
}) {
  const problemState = getProblemState(isFrozen, solution, r);
  const { html, uri } = problem;

  return (
    <FTMLFragment
      key={uri}
      fragment={{ html, uri }}
      problemStates={new Map([[uri, problemState]])}
      onProblem={(response) => {
        onResponseUpdate?.(response);
      }}
    />
  );
}*/

const problem = {
  html: '<div class="rustex-contents" data-ftml-problem="dfa1" data-ftml-autogradable="true">\n\t<div class="rustex-paragraph rustex-withwidth"><span class="rustex-contents" data-ftml-title="">Automata</span> <div class="rustex-hbox-container"><div class="rustex-hbox"></div></div> <div class="rustex-hbox-container"><div class="rustex-hbox"></div></div> <div class="rustex-hbox-container"><div class="rustex-hbox"></div></div> <div class="rustex-hbox-container"><div class="rustex-hbox"></div></div>   Consider the following <span class="rustex-contents" data-ftml-term="OMID" data-ftml-head="https://mathhub.info?a=smglom/theocs&amp;p=mod&amp;m=DFA&amp;s=deterministic finite automaton" data-ftml-notationid=""><span class="rustex-contents" data-ftml-comp="">finite automaton</span></span> with <span class="rustex-contents" data-ftml-term="OMID" data-ftml-head="https://mathhub.info?a=smglom/theocs&amp;p=mod&amp;m=automata/automaton&amp;s=initial state" data-ftml-notationid=""><span class="rustex-contents" data-ftml-comp="">initial state</span></span> <math class="rustex-math">\n\t\t<mrow>\n\t\t\t<mi class="rustex-math-ord">ùê¥</mi>\n\t\t</mrow></math> and <span class="rustex-contents" data-ftml-term="OMID" data-ftml-head="https://mathhub.info?a=smglom/theocs&amp;p=mod&amp;m=automata/automaton&amp;s=final state" data-ftml-notationid=""><span class="rustex-contents" data-ftml-comp="">final state</span></span> <math class="rustex-math">\n\t\t<mrow>\n\t\t\t<mi class="rustex-math-ord">ùê∂</mi>\n\t\t</mrow></math>. </div>\n\t<div class="rustex-vskip" style="height:15px;"></div>\n\t<div class="rustex-paragraph rustex-withwidth" style="margin-left:0px;margin-right:0px;text-align:center;"><div class="rustex-hbox-container"><div class="rustex-hbox"><div class="rustex-hskip" style="margin-left:-7.5px;"></div><div class="rustex-hbox-container"><div class="rustex-hbox" style="justify-content:space-between;width:0;"></div></div><div class="rustex-hskip" style="margin-left:7.5px;"></div></div></div><div class="rustex-svg"><svg width="216.29694px" height="93.04298px" viewBox="-35.62388 -72.8689 216.29694 93.04298">\n\t\t<g transform="translate(0,-52.69482)">\n\t\t\t<g>\n\t\t\t\t<g stroke="#000" fill="#000">\n\t\t\t\t\t<g stroke-width="0.6">\n\t\t\t\t\t\t<g transform="translate(-14.437544,5.0287647)">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<foreignObject class="rustex-foreign" style="width:28.87509px;height:10.05753px;translate:0 -10.05753px;"><div><div class="rustex-hbox-container"><div class="rustex-hbox"><math class="rustex-math">\n\t\t\t\t\t\t\t\t<mrow>\n\t\t\t\t\t\t\t\t\t<mi class="rustex-math-ord">ùê¥</mi>\n\t\t\t\t\t\t\t\t</mrow></math><div class="rustex-space-in-hbox"></div><div class="rustex-space-in-hbox"></div></div></div></div>\n\t\t\t\t\t\t\t</foreignObject>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t\t<g transform="translate(67.6156,4.856295)">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<foreignObject class="rustex-foreign" style="width:27.23996px;height:9.7126px;translate:0 -9.7126px;"><div><div class="rustex-hbox-container"><div class="rustex-hbox"><math class="rustex-math">\n\t\t\t\t\t\t\t\t<mrow>\n\t\t\t\t\t\t\t\t\t<mi class="rustex-math-ord">ùêµ</mi>\n\t\t\t\t\t\t\t\t</mrow></math><div class="rustex-space-in-hbox"></div><div class="rustex-space-in-hbox"></div></div></div></div>\n\t\t\t\t\t\t\t</foreignObject>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t\t<g transform="translate(148.03363,4.95381)">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<foreignObject class="rustex-foreign" style="width:27.68994px;height:10.05753px;translate:0 -10.05753px;"><div><div class="rustex-hbox-container"><div class="rustex-hbox"><math class="rustex-math">\n\t\t\t\t\t\t\t\t<mrow>\n\t\t\t\t\t\t\t\t\t<mi class="rustex-math-ord">ùê∂</mi>\n\t\t\t\t\t\t\t\t</mrow></math><div class="rustex-space-in-hbox"></div><div class="rustex-space-in-hbox"></div></div></div></div>\n\t\t\t\t\t\t\t</foreignObject>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t\t<g transform="translate(-14.2499695,67.91943)">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<foreignObject class="rustex-foreign" style="width:28.49995px;height:9.7126px;translate:0 -9.7126px;"><div><div class="rustex-hbox-container"><div class="rustex-hbox"><math class="rustex-math">\n\t\t\t\t\t\t\t\t<mrow>\n\t\t\t\t\t\t\t\t\t<mi class="rustex-math-ord">ùê∑</mi>\n\t\t\t\t\t\t\t\t</mrow></math><div class="rustex-space-in-hbox"></div><div class="rustex-space-in-hbox"></div></div></div></div>\n\t\t\t\t\t\t\t</foreignObject>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t\t<g transform="translate(67.42805,67.91943)">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<foreignObject class="rustex-foreign" style="width:27.29993px;height:9.7126px;translate:0 -9.7126px;"><div><div class="rustex-hbox-container"><div class="rustex-hbox"><math class="rustex-math">\n\t\t\t\t\t\t\t\t<mrow>\n\t\t\t\t\t\t\t\t\t<mi class="rustex-math-ord">ùê∏</mi>\n\t\t\t\t\t\t\t\t</mrow></math><div class="rustex-space-in-hbox"></div><div class="rustex-space-in-hbox"></div></div></div></div>\n\t\t\t\t\t\t\t</foreignObject>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t\t<path d="M 19.68702 -0 L 61.676147 -0 " fill="none">\n\t\t\t\t\t\t</path>\n\t\t\t\t\t\t<g transform="translate(61.676147,-0)">\n\t\t\t\t\t\t\t<g stroke-width="0.479985">\n\t\t\t\t\t\t\t\t<g stroke-dasharray="none" stroke-dashoffset="0.0">\n\t\t\t\t\t\t\t\t\t<g stroke-linecap="round">\n\t\t\t\t\t\t\t\t\t\t<g stroke-linejoin="round">\n\t\t\t\t\t\t\t\t\t\t\t<path d="M -1.79997 -2.39997 C -1.64997 -1.49997 0 -0.149985 0.449985 -0 C 0 0.149985 -1.64997 1.49997 -1.79997 2.39997 " fill="none">\n\t\t\t\t\t\t\t\t\t\t\t</path>\n\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t\t<g transform="translate(28.314106,-5.4144897)">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<foreignObject class="rustex-foreign" style="width:25.42493px;height:9.8101px;translate:0 -9.8101px;"><div><div class="rustex-hbox-container"><div class="rustex-hbox"><math class="rustex-math">\n\t\t\t\t\t\t\t\t<mrow>\n\t\t\t\t\t\t\t\t\t<mi class="rustex-math-ord">0</mi>\n\t\t\t\t\t\t\t\t</mrow></math><div class="rustex-space-in-hbox"></div><div class="rustex-space-in-hbox"></div></div></div></div>\n\t\t\t\t\t\t\t</foreignObject>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t\t<path d="M 100.10506 -0 L 142.09418 -0 " fill="none">\n\t\t\t\t\t\t</path>\n\t\t\t\t\t\t<g transform="translate(142.09418,-0)">\n\t\t\t\t\t\t\t<g stroke-width="0.479985">\n\t\t\t\t\t\t\t\t<g stroke-dasharray="none" stroke-dashoffset="0.0">\n\t\t\t\t\t\t\t\t\t<g stroke-linecap="round">\n\t\t\t\t\t\t\t\t\t\t<g stroke-linejoin="round">\n\t\t\t\t\t\t\t\t\t\t\t<path d="M -1.79997 -2.39997 C -1.64997 -1.49997 0 -0.149985 0.449985 -0 C 0 0.149985 -1.64997 1.49997 -1.79997 2.39997 " fill="none">\n\t\t\t\t\t\t\t\t\t\t\t</path>\n\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t\t<g transform="translate(108.732124,-5.249475)">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<foreignObject class="rustex-foreign" style="width:25.42493px;height:9.8101px;translate:0 -9.8101px;"><div><div class="rustex-hbox-container"><div class="rustex-hbox"><math class="rustex-math">\n\t\t\t\t\t\t\t\t<mrow>\n\t\t\t\t\t\t\t\t\t<mi class="rustex-math-ord">1</mi>\n\t\t\t\t\t\t\t\t</mrow></math><div class="rustex-space-in-hbox"></div><div class="rustex-space-in-hbox"></div></div></div></div>\n\t\t\t\t\t\t\t</foreignObject>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t\t<path d="M 62.178574 63.063118 L 20.189445 63.063118 " fill="none">\n\t\t\t\t\t\t</path>\n\t\t\t\t\t\t<g transform="matrix(-1,-0,-0,-1,20.189445,63.063118)">\n\t\t\t\t\t\t\t<g stroke-width="0.479985">\n\t\t\t\t\t\t\t\t<g stroke-dasharray="none" stroke-dashoffset="0.0">\n\t\t\t\t\t\t\t\t\t<g stroke-linecap="round">\n\t\t\t\t\t\t\t\t\t\t<g stroke-linejoin="round">\n\t\t\t\t\t\t\t\t\t\t\t<path d="M -1.79997 -2.39997 C -1.64997 -1.49997 0 -0.149985 0.449985 -0 C 0 0.149985 -1.64997 1.49997 -1.79997 2.39997 " fill="none">\n\t\t\t\t\t\t\t\t\t\t\t</path>\n\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t\t<g transform="translate(28.12656,57.64863)">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<foreignObject class="rustex-foreign" style="width:25.42493px;height:9.8101px;translate:0 -9.8101px;"><div><div class="rustex-hbox-container"><div class="rustex-hbox"><math class="rustex-math">\n\t\t\t\t\t\t\t\t<mrow>\n\t\t\t\t\t\t\t\t\t<mi class="rustex-math-ord">0</mi>\n\t\t\t\t\t\t\t\t</mrow></math><div class="rustex-space-in-hbox"></div><div class="rustex-space-in-hbox"></div></div></div></div>\n\t\t\t\t\t\t\t</foreignObject>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t\t<path d="M 0 52.95735 L 0 10.9682255 " fill="none">\n\t\t\t\t\t\t</path>\n\t\t\t\t\t\t<g transform="matrix(0,-1,1,0,0,10.9682255)">\n\t\t\t\t\t\t\t<g stroke-width="0.479985">\n\t\t\t\t\t\t\t\t<g stroke-dasharray="none" stroke-dashoffset="0.0">\n\t\t\t\t\t\t\t\t\t<g stroke-linecap="round">\n\t\t\t\t\t\t\t\t\t\t<g stroke-linejoin="round">\n\t\t\t\t\t\t\t\t\t\t\t<path d="M -1.79997 -2.39997 C -1.64997 -1.49997 0 -0.149985 0.449985 -0 C 0 0.149985 -1.64997 1.49997 -1.79997 2.39997 " fill="none">\n\t\t\t\t\t\t\t\t\t\t\t</path>\n\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t\t<g transform="translate(-30.6744,36.522854)">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<foreignObject class="rustex-foreign" style="width:25.42493px;height:9.8101px;translate:0 -9.8101px;"><div><div class="rustex-hbox-container"><div class="rustex-hbox"><math class="rustex-math">\n\t\t\t\t\t\t\t\t<mrow>\n\t\t\t\t\t\t\t\t\t<mi class="rustex-math-ord">1</mi>\n\t\t\t\t\t\t\t\t</mrow></math><div class="rustex-space-in-hbox"></div><div class="rustex-space-in-hbox"></div></div></div></div>\n\t\t\t\t\t\t\t</foreignObject>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t\t<path d="M 13.2135 10.27824 L 67.54758 52.533813 " fill="none">\n\t\t\t\t\t\t</path>\n\t\t\t\t\t\t<g transform="matrix(0.78935,0.61388,-0.61388,0.78935,67.54757,52.533775)">\n\t\t\t\t\t\t\t<g stroke-width="0.479985">\n\t\t\t\t\t\t\t\t<g stroke-dasharray="none" stroke-dashoffset="0.0">\n\t\t\t\t\t\t\t\t\t<g stroke-linecap="round">\n\t\t\t\t\t\t\t\t\t\t<g stroke-linejoin="round">\n\t\t\t\t\t\t\t\t\t\t\t<path d="M -1.79997 -2.39997 C -1.64997 -1.49997 0 -0.149985 0.449985 -0 C 0 0.149985 -1.64997 1.49997 -1.79997 2.39997 " fill="none">\n\t\t\t\t\t\t\t\t\t\t\t</path>\n\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t\t<g transform="translate(9.97845,36.522842)">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<foreignObject class="rustex-foreign" style="width:25.42493px;height:9.8101px;translate:0 -9.8101px;"><div><div class="rustex-hbox-container"><div class="rustex-hbox"><math class="rustex-math">\n\t\t\t\t\t\t\t\t<mrow>\n\t\t\t\t\t\t\t\t\t<mi class="rustex-math-ord">1</mi>\n\t\t\t\t\t\t\t\t</mrow></math><div class="rustex-space-in-hbox"></div><div class="rustex-space-in-hbox"></div></div></div></div>\n\t\t\t\t\t\t\t</foreignObject>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t\t<path d="M 94.02741 52.95735 L 148.07661 10.77765 " fill="none">\n\t\t\t\t\t\t</path>\n\t\t\t\t\t\t<g transform="matrix(0.78833,-0.6152,0.6152,0.78833,148.0766,10.77768)">\n\t\t\t\t\t\t\t<g stroke-width="0.479985">\n\t\t\t\t\t\t\t\t<g stroke-dasharray="none" stroke-dashoffset="0.0">\n\t\t\t\t\t\t\t\t\t<g stroke-linecap="round">\n\t\t\t\t\t\t\t\t\t\t<g stroke-linejoin="round">\n\t\t\t\t\t\t\t\t\t\t\t<path d="M -1.79997 -2.39997 C -1.64997 -1.49997 0 -0.149985 0.449985 -0 C 0 0.149985 -1.64997 1.49997 -1.79997 2.39997 " fill="none">\n\t\t\t\t\t\t\t\t\t\t\t</path>\n\t\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t\t<g transform="translate(126.573456,36.560326)">\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<foreignObject class="rustex-foreign" style="width:25.42493px;height:9.8101px;translate:0 -9.8101px;"><div><div class="rustex-hbox-container"><div class="rustex-hbox"><math class="rustex-math">\n\t\t\t\t\t\t\t\t<mrow>\n\t\t\t\t\t\t\t\t\t<mi class="rustex-math-ord">1</mi>\n\t\t\t\t\t\t\t\t</mrow></math><div class="rustex-space-in-hbox"></div><div class="rustex-space-in-hbox"></div></div></div></div>\n\t\t\t\t\t\t\t</foreignObject>\n\t\t\t\t\t\t</g>\n\t\t\t\t\t</g>\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t</g></svg></div>  </div>\n\t<div class="rustex-vskip" style="height:15px;"></div>\n\t<div class="rustex-paragraph rustex-withwidth"><div class="rustex-parindent" style="margin-left:22.5px;"></div>Which one is the <span class="rustex-contents" data-ftml-term="OMID" data-ftml-head="https://mathhub.info?a=smglom/theocs&amp;p=mod&amp;m=accepted-word&amp;s=accepted" data-ftml-notationid=""><span class="rustex-contents" data-ftml-comp="">accepted</span></span> <span class="rustex-contents" data-ftml-term="OMID" data-ftml-head="https://mathhub.info?a=smglom/sets&amp;p=mod&amp;m=formal-language&amp;s=formal language" data-ftml-notationid=""><span class="rustex-contents" data-ftml-comp="">language</span></span>? </div><div class="rustex-contents" data-ftml-single-choice-block="">\n\t<div class="rustex-vskip" style="height:3px;"></div>\n\t<div class="rustex-paragraph rustex-scalewidth" style="margin-left:37.5px;--rustex-scale-width:0.93;"><span><div class="rustex-hbox-container" style="width:0;"><div class="rustex-hbox"><div class="rustex-hskip" style="margin-left:-37.5px;"></div><div class="rustex-hbox-container"><div class="rustex-hbox rustex-scalewidth" style="justify-content:space-between;--rustex-scale-width:0.06;"><span><div class="rustex-hskip" style="margin-left:0px;margin-right:auto;"></div></span></div></div><div class="rustex-hskip" style="margin-left:7.5px;"></div></div></div><span class="rustex-contents" data-ftml-problem-choice=""><math class="rustex-math">\n\t\t<mrow>\n\t\t\t<mi class="rustex-math-ord">01</mi>\n\t\t\t\n\t\t\t\n\t\t\t<mspace class="rustex-mkern" width="0.16667em"></mspace>\n\t\t\t<mi class="rustex-math-ord">|</mi>\n\t\t\t\n\t\t\t\n\t\t\t<mspace class="rustex-mkern" width="0.16667em"></mspace>\n\t\t\t<mi class="rustex-math-ord">10111</mi>\n\t\t</mrow></math> </span></span></div>\n\t<div class="rustex-vskip" style="height:3px;"></div>\n\t<div class="rustex-paragraph rustex-scalewidth" style="margin-left:37.5px;--rustex-scale-width:0.93;"><span><div class="rustex-hbox-container" style="width:0;"><div class="rustex-hbox"><div class="rustex-hskip" style="margin-left:-37.5px;"></div><div class="rustex-hbox-container"><div class="rustex-hbox rustex-scalewidth" style="justify-content:space-between;--rustex-scale-width:0.06;"><span><div class="rustex-hskip" style="margin-left:0px;margin-right:auto;"></div></span></div></div><div class="rustex-hskip" style="margin-left:7.5px;"></div></div></div><span class="rustex-contents" data-ftml-problem-choice=""><math class="rustex-math">\n\t\t<mrow>\n\t\t\t<mo lspace="0" rspace="0" class="rustex-math-open" stretchy="false">(</mo>\n\t\t\t<mi class="rustex-math-ord">101</mi>\n\t\t\t\n\t\t\t<msup><mo lspace="0" rspace="0" class="rustex-math-close" stretchy="false">)</mo><mo lspace="0" rspace="0" class="rustex-math-rel" stretchy="false">‚àó</mo>\n\t\t\t</msup>\n\t\t\t<mo lspace="0" rspace="0" class="rustex-math-open" stretchy="false">(</mo>\n\t\t\t<mi class="rustex-math-ord">0|1</mi>\n\t\t\t<mo lspace="0" rspace="0" class="rustex-math-close" stretchy="false">)</mo>\n\t\t\t<mi class="rustex-math-ord">1</mi>\n\t\t</mrow></math> </span></span></div>\n\t<div class="rustex-vskip" style="height:3px;"></div>\n\t<div class="rustex-paragraph rustex-scalewidth" style="margin-left:37.5px;--rustex-scale-width:0.93;"><span><div class="rustex-hbox-container" style="width:0;"><div class="rustex-hbox"><div class="rustex-hskip" style="margin-left:-37.5px;"></div><div class="rustex-hbox-container"><div class="rustex-hbox rustex-scalewidth" style="justify-content:space-between;--rustex-scale-width:0.06;"><span><div class="rustex-hskip" style="margin-left:0px;margin-right:auto;"></div></span></div></div><div class="rustex-hskip" style="margin-left:7.5px;"></div></div></div><span class="rustex-contents" data-ftml-problem-choice=""><math class="rustex-math">\n\t\t<mrow>\n\t\t\t<mi class="rustex-math-ord">01</mi>\n\t\t\t\n\t\t\t\n\t\t\t<mspace class="rustex-mkern" width="0.16667em"></mspace>\n\t\t\t<mi class="rustex-math-ord">|</mi>\n\t\t\t\n\t\t\t\n\t\t\t<mspace class="rustex-mkern" width="0.16667em"></mspace>\n\t\t\t<mo lspace="0" rspace="0" class="rustex-math-open" stretchy="false">(</mo>\n\t\t\t<mi class="rustex-math-ord">101</mi>\n\t\t\t\n\t\t\t<msup><mo lspace="0" rspace="0" class="rustex-math-close" stretchy="false">)</mo><mo lspace="0" rspace="0" class="rustex-math-rel" stretchy="false">‚àó</mo>\n\t\t\t</msup>\n\t\t\t<mi class="rustex-math-ord">11</mi>\n\t\t</mrow></math> </span></span></div>\n\t<div class="rustex-vskip" style="height:3px;"></div>\n\t<div class="rustex-paragraph rustex-scalewidth" style="margin-left:37.5px;--rustex-scale-width:0.93;"><span><div class="rustex-hbox-container" style="width:0;"><div class="rustex-hbox"><div class="rustex-hskip" style="margin-left:-37.5px;"></div><div class="rustex-hbox-container"><div class="rustex-hbox rustex-scalewidth" style="justify-content:space-between;--rustex-scale-width:0.06;"><span><div class="rustex-hskip" style="margin-left:0px;margin-right:auto;"></div></span></div></div><div class="rustex-hskip" style="margin-left:7.5px;"></div></div></div><span class="rustex-contents" data-ftml-problem-choice=""><math class="rustex-math">\n\t\t<mrow>\n\t\t\t<mo lspace="0" rspace="0" class="rustex-math-open" stretchy="false">(</mo>\n\t\t\t<mi class="rustex-math-ord">10</mi>\n\t\t\t\n\t\t\t<msup><mo lspace="0" rspace="0" class="rustex-math-close" stretchy="false">)</mo><mo lspace="0" rspace="0" class="rustex-math-rel" stretchy="false">‚àó</mo>\n\t\t\t</msup>\n\t\t\t\n\t\t\t\n\t\t\t<mspace class="rustex-mkern" width="0.16667em"></mspace>\n\t\t\t<mi class="rustex-math-ord">|</mi>\n\t\t\t\n\t\t\t\n\t\t\t<mspace class="rustex-mkern" width="0.16667em"></mspace>\n\t\t\t<mo lspace="0" rspace="0" class="rustex-math-open" stretchy="false">(</mo>\n\t\t\t<mi class="rustex-math-ord">11</mi>\n\t\t\t\n\t\t\t<msup><mo lspace="0" rspace="0" class="rustex-math-close" stretchy="false">)</mo><mo lspace="0" rspace="0" class="rustex-math-rel" stretchy="false">‚àó</mo>\n\t\t\t</msup>\n\t\t</mrow></math> </span></span></div>\n\t<div class="rustex-vskip" style="height:3px;"></div></div></div>',
  title_html: "Automata",
  uri: "https://mathhub.info?a=courses/FAU/AI/problems&p=pretest/quiz&d=dfa1&l=en&e=problem",
  total_points: 5,
  preconditions: [],
  objectives: [
    [
      "Understand",
      "https://mathhub.info?a=smglom/theocs&p=mod&m=DFA&s=deterministic finite automaton",
    ],
    [
      "Apply",
      "https://mathhub.info?a=smglom/theocs&p=mod&m=DFA&s=deterministic finite automaton",
    ],
  ],
};
const solution: string =
  "01010000FBBA2DFB06420004004E3C7370616E20636C6173733D227275737465782D636F6E74656E74732220646174612D66746D6C2D70726F626C656D2D63686F6963652D766572646963743D22223E57726F6E673C2F7370616E3E0001503C7370616E20636C6173733D227275737465782D636F6E74656E74732220646174612D66746D6C2D70726F626C656D2D63686F6963652D766572646963743D22223E436F72726563743C2F7370616E3E00004E3C7370616E20636C6173733D227275737465782D636F6E74656E74732220646174612D66746D6C2D70726F626C656D2D63686F6963652D766572646963743D22223E57726F6E673C2F7370616E3E00004E3C7370616E20636C6173733D227275737465782D636F6E74656E74732220646174612D66746D6C2D70726F626C656D2D63686F6963652D766572646963743D22223E57726F6E673C2F7370616E3E00";

const r: ProblemResponse = {
  uri: "https://mathhub.info?a=courses/FAU/AI/problems&p=pretest/quiz&d=dfa1&l=en&e=problem",
  responses: [1],
};
const BugPage = () => {
  const sol = Solutions.from_jstring(solution)?.to_solutions()[0] as {
    ChoiceBlock: ChoiceBlock;
  };
  console.log("from wasm", sol);

  useEffect(() => {
    async function getScore() {
      const submission: [string, (ProblemResponse | undefined)[]] = [
        solution,
        [r],
      ];
      const resp = await getFlamsServer().batchGradeHex(submission);
      console.log("from api v1", resp);
    }
    getScore();
  }, []);
  return (
    <div>
        Uncomment this to see the actual problem.
      {/*<ProblemViewer
        problem={problem}
        solution={solution}
        isFrozen={true}
        r={r}
      />*/}
    </div>
  );
};

export default BugPage;
